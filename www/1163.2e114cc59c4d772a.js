"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1163],{1163:(Z,v,t)=>{t.r(v),t.d(v,{ModificarcontrasenaPageModule:()=>s});var M=t(6814),r=t(6223),n=t(9843),l=t(2058),h=t(7791),a=t(5879),m=t(4535);const d=[{path:"",component:(()=>{var e;class c{constructor(o,i,u,p){this.database=o,this.alertController=i,this.fb=u,this.router=p,this.formularioContrasena=this.fb.group({actual:new r.NI("",[r.kI.required]),nueva:new r.NI("",[r.kI.required]),confnueva:new r.NI("",[r.kI.required])})}cambiarContrsena(){if(this.formularioContrasena.valid){let o=this.formularioContrasena.value,i=localStorage.getItem("id");o.nueva===o.confnueva?this.database.verificarContrasena(i).then(u=>{u?this.database.actualizarContrasena(o.nueva,i).then(p=>{p?(this.presentarAlerta("Contrase\xf1a Actualizada","Su contrase\xf1a ha sido actualizada con \xe9xito."),this.router.navigate(["/perfilusuario"]),this.formularioContrasena.reset()):this.presentarAlerta("Error al actualizar contrase\xf1a","La contrase\xf1a actual ingresada no existe.")}).catch(p=>{console.error("Ha ocurrido un error al actualizar contrase\xf1a: ",+p)}):this.presentarAlerta("Contrase\xf1a incorrecta","La contrase\xf1a actual ingresada no coincide.")}).catch(u=>{console.error("Ha ocurrido un error al verificar contrasena: ",+u)}):this.presentarAlerta("Contrase\xf1as incorrectas","Las contrase\xf1as ingresadas no coinciden.")}}presentarAlerta(o,i){var u=this;return(0,h.Z)(function*(){yield(yield u.alertController.create({header:o,message:i,buttons:["Aceptar"]})).present()})()}ngOnInit(){}}return(e=c).\u0275fac=function(o){return new(o||e)(a.Y36(m.N),a.Y36(n.Br),a.Y36(r.qu),a.Y36(l.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-modificarcontrasena"]],decls:29,vars:1,consts:[["color","primary"],["collapse","condense"],["size","large",2,"text-align","center","font-weight","800"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","actual","id","actual","type","password"],["formControlName","nueva","type","password"],["formControlName","confnueva","type","password"],["type","submit"]],template:function(o,i){1&o&&(a.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),a._uU(3,"ViaGo"),a.qZA()()(),a.TgZ(4,"ion-content")(5,"ion-header",1)(6,"ion-toolbar",0)(7,"ion-title",2),a._uU(8,"Modificar Contrase\xf1a"),a.qZA()()(),a.TgZ(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),a._uU(12,"Cambiar Contrase\xf1a"),a.qZA()(),a.TgZ(13,"ion-card-content")(14,"form",3),a.NdJ("ngSubmit",function(){return i.cambiarContrsena()}),a.TgZ(15,"ion-item")(16,"ion-label",4),a._uU(17,"Ingrese su Contrase\xf1a Actual:"),a.qZA(),a._UZ(18,"ion-input",5),a.qZA(),a.TgZ(19,"ion-item")(20,"ion-label",4),a._uU(21,"Ingrese su Nueva Contrase\xf1a:"),a.qZA(),a._UZ(22,"ion-input",6),a.qZA(),a.TgZ(23,"ion-item")(24,"ion-label",4),a._uU(25,"Confirme Nueva Contrase\xf1a:"),a.qZA(),a._UZ(26,"ion-input",7),a.qZA(),a.TgZ(27,"ion-button",8),a._uU(28,"Cambiar Contrase\xf1a"),a.qZA()()()()()),2&o&&(a.xp6(14),a.Q6J("formGroup",i.formularioContrasena))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,n.YG,n.PM,n.FN,n.Zi,n.Dq,n.W2,n.Gu,n.pK,n.Ie,n.Q$,n.wd,n.sr,n.j9],styles:["#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}"]}),c})()}];let f=(()=>{var e;class c{}return(e=c).\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[l.Bz.forChild(d),l.Bz]}),c})(),s=(()=>{var e;class c{}return(e=c).\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[M.ez,r.u5,r.UX,n.Pc,f]}),c})()},7791:(Z,v,t)=>{function M(n,l,h,a,m,C,d){try{var f=n[C](d),s=f.value}catch(e){return void h(e)}f.done?l(s):Promise.resolve(s).then(a,m)}function r(n){return function(){var l=this,h=arguments;return new Promise(function(a,m){var C=n.apply(l,h);function d(s){M(C,a,m,d,f,"next",s)}function f(s){M(C,a,m,d,f,"throw",s)}d(void 0)})}}t.d(v,{Z:()=>r})}}]);