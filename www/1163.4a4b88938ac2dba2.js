"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1163],{1163:(M,f,t)=>{t.r(f),t.d(f,{ModificarcontrasenaPageModule:()=>v});var m=t(6814),n=t(6223),o=t(9843),d=t(2058),g=t(5861),a=t(5879),p=t(4535);const h=[{path:"",component:(()=>{var e;class s{constructor(r,i,c,l){this.database=r,this.alertController=i,this.fb=c,this.router=l,this.formularioContrasena=this.fb.group({actual:new n.NI("",[n.kI.required]),nueva:new n.NI("",[n.kI.required]),confnueva:new n.NI("",[n.kI.required])})}cambiarContrsena(){if(this.formularioContrasena.valid){let r=this.formularioContrasena.value,i=localStorage.getItem("id");r.nueva===r.confnueva?this.database.verificarContrasena(i).then(c=>{c?this.database.actualizarContrasena(r.nueva,i).then(l=>{l?(this.presentarAlerta("Contrase\xf1a Actualizada","Su contrase\xf1a ha sido actualizada con \xe9xito."),this.router.navigate(["/perfilusuario"]),this.formularioContrasena.reset()):this.presentarAlerta("Error al actualizar contrase\xf1a","La contrase\xf1a actual ingresada no existe.")}).catch(l=>{console.error("Ha ocurrido un error al actualizar contrase\xf1a: ",+l)}):this.presentarAlerta("Contrase\xf1a incorrecta","La contrase\xf1a actual ingresada no coincide.")}).catch(c=>{console.error("Ha ocurrido un error al verificar contrasena: ",+c)}):this.presentarAlerta("Contrase\xf1as incorrectas","Las contrase\xf1as ingresadas no coinciden.")}}presentarAlerta(r,i){var c=this;return(0,g.Z)(function*(){yield(yield c.alertController.create({header:r,message:i,buttons:["Aceptar"]})).present()})()}ngOnInit(){}}return(e=s).\u0275fac=function(r){return new(r||e)(a.Y36(p.N),a.Y36(o.Br),a.Y36(n.qu),a.Y36(d.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-modificarcontrasena"]],decls:29,vars:1,consts:[["color","primary"],["collapse","condense"],["size","large"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","actual","id","actual","type","password"],["formControlName","nueva","type","password"],["formControlName","confnueva","type","password"],["type","submit"]],template:function(r,i){1&r&&(a.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),a._uU(3,"Modificar Contrase\xf1a"),a.qZA()()(),a.TgZ(4,"ion-content")(5,"ion-header",1)(6,"ion-toolbar",0)(7,"ion-title",2),a._uU(8,"Modificar Contrase\xf1a"),a.qZA()()(),a.TgZ(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),a._uU(12,"Cambiar Contrase\xf1a"),a.qZA()(),a.TgZ(13,"ion-card-content")(14,"form",3),a.NdJ("ngSubmit",function(){return i.cambiarContrsena()}),a.TgZ(15,"ion-item")(16,"ion-label",4),a._uU(17,"Ingrese su Contrase\xf1a Actual:"),a.qZA(),a._UZ(18,"ion-input",5),a.qZA(),a.TgZ(19,"ion-item")(20,"ion-label"),a._uU(21,"Ingrese su Nueva Contrase\xf1a:"),a.qZA(),a._UZ(22,"ion-input",6),a.qZA(),a.TgZ(23,"ion-item")(24,"ion-label"),a._uU(25,"Confirme Nueva Contrase\xf1a:"),a.qZA(),a._UZ(26,"ion-input",7),a.qZA(),a.TgZ(27,"ion-button",8),a._uU(28,"Cambiar Contrase\xf1a"),a.qZA()()()()()),2&r&&(a.xp6(14),a.Q6J("formGroup",i.formularioContrasena))},dependencies:[n._Y,n.JJ,n.JL,n.sg,n.u,o.YG,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.pK,o.Ie,o.Q$,o.wd,o.sr,o.j9]}),s})()}];let C=(()=>{var e;class s{}return(e=s).\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[d.Bz.forChild(h),d.Bz]}),s})(),v=(()=>{var e;class s{}return(e=s).\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[m.ez,n.u5,n.UX,o.Pc,C]}),s})()}}]);