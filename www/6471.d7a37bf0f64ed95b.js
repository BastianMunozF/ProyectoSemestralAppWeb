"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6471],{6471:(b,U,t)=>{t.r(U),t.d(U,{PaginaloginUsuarioPageModule:()=>Z});var v=t(6814),r=t(6223),o=t(9843),l=t(2058),P=t(7791),n=t(5879),d=t(4535);const p=function(){return["/paginaregistrar-usuario"]},c=[{path:"",component:(()=>{var e;class g{constructor(i,a,s,h){this.fb=i,this.alertController=a,this.router=s,this.database=h,this.correo="",this.contrasena="",this.user="",this.formularioLogin=this.fb.group({correo:new r.NI("",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(30)]),contrasena:new r.NI("",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(30)])})}ngOnInit(){}iniciarSesion(){this.formularioLogin.valid&&this.database.buscarCorreo(this.correo,this.contrasena).then(i=>{if(null!==i){var a;localStorage.setItem("id",i.id),localStorage.setItem("rol",i.id_rol.toString());let s=null===(a=localStorage.getItem("rol"))||void 0===a?void 0:a.toString();"1"===s?this.router.navigate(["/menuprincipal"]).then(()=>{this.presentarAlerta("Sesi\xf3n iniciada","La sesi\xf3n ha sido iniciada con \xe9xito.")}):(s="2")?this.router.navigate(["/menuprincipalconductor"]).then(()=>{this.presentarAlerta("Sesi\xf3n iniciada","La sesi\xf3n de conductor ha sido iniciada con \xe9xito.")}):this.presentarAlerta("Error al iniciar sesi\xf3n","Los datos ingresados no existen."),this.formularioLogin.reset()}else this.presentarAlerta("Error al iniciar sesi\xf3n","Los datos ingresados no son correctos.")})}presentarAlerta(i,a){var s=this;return(0,P.Z)(function*(){yield(yield s.alertController.create({header:i,message:a,buttons:["Aceptar"]})).present()})()}}return(e=g).\u0275fac=function(i){return new(i||e)(n.Y36(r.qu),n.Y36(o.Br),n.Y36(l.F0),n.Y36(d.N))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-paginalogin-usuario"]],decls:34,vars:7,consts:[[3,"translucent"],["color","primary",2,"text-align","center"],["color","primary"],[2,"text-align","center"],["src","../../../assets/icon/ViaGoo.png","alt","",2,"margin-left","6px"],[3,"formGroup","ngSubmit"],["position","floating"],["type","email","formControlName","correo",3,"ngModel","ngModelChange"],["formControlName","contrasena","type","password",3,"ngModel","ngModelChange"],[2,"display","flex","flex-direction","row","justify-content","space-between","align-items","center"],["type","submit"],["href","/paginarecuperar-usuario",2,"color","white"],["slot","end"],[3,"routerLink"]],template:function(i,a){1&i&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),n._uU(3,"\xa1Bienvenido!"),n.qZA()()(),n.TgZ(4,"ion-content")(5,"ion-card")(6,"ion-card-header",2)(7,"ion-card-title",3),n._uU(8,"Iniciar Sesi\xf3n "),n._UZ(9,"br"),n._uU(10),n.qZA()(),n._UZ(11,"img",4),n.TgZ(12,"ion-card-content")(13,"form",5),n.NdJ("ngSubmit",function(){return a.iniciarSesion()}),n.TgZ(14,"ion-item")(15,"ion-label",6),n._uU(16,"Correo"),n.qZA(),n.TgZ(17,"ion-input",7),n.NdJ("ngModelChange",function(h){return a.correo=h}),n.qZA()(),n.TgZ(18,"ion-item")(19,"ion-label",6),n._uU(20,"Contrase\xf1a"),n.qZA(),n.TgZ(21,"ion-input",8),n.NdJ("ngModelChange",function(h){return a.contrasena=h}),n.qZA()(),n._UZ(22,"br"),n.TgZ(23,"div",9)(24,"ion-button",10),n._uU(25,"Ingresar"),n.qZA(),n.TgZ(26,"ion-button")(27,"a",11),n._uU(28,"Recuperar Usuario"),n.qZA()()()()()()(),n.TgZ(29,"ion-footer")(30,"ion-toolbar",2)(31,"ion-buttons",12)(32,"ion-button",13),n._uU(33,"Registrarse"),n.qZA()()()()),2&i&&(n.Q6J("translucent",!0),n.xp6(10),n.hij(" ",a.correo,""),n.xp6(3),n.Q6J("formGroup",a.formularioLogin),n.xp6(4),n.Q6J("ngModel",a.correo),n.xp6(4),n.Q6J("ngModel",a.contrasena),n.xp6(11),n.Q6J("routerLink",n.DdM(6,p)))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.fr,o.Gu,o.pK,o.Ie,o.Q$,o.wd,o.sr,o.j9,o.YI,l.rH],styles:["#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}"]}),g})()}];let u=(()=>{var e;class g{}return(e=g).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.Bz.forChild(c),l.Bz]}),g})(),Z=(()=>{var e;class g{}return(e=g).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[v.ez,r.u5,r.UX,o.Pc,u]}),g})()},7791:(b,U,t)=>{function v(o,l,P,n,d,p,m){try{var c=o[p](m),u=c.value}catch(Z){return void P(Z)}c.done?l(u):Promise.resolve(u).then(n,d)}function r(o){return function(){var l=this,P=arguments;return new Promise(function(n,d){var p=o.apply(l,P);function m(u){v(p,n,d,m,c,"next",u)}function c(u){v(p,n,d,m,c,"throw",u)}m(void 0)})}}t.d(U,{Z:()=>r})}}]);