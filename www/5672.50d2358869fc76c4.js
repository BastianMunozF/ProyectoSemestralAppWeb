"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5672],{5672:(y,g,i)=>{i.r(g),i.d(g,{RutaconductorPageModule:()=>C});var m=i(6814),n=i(9843),d=i(2058),v=i(5861),e=i(6223),o=i(5879),A=i(4535),Z=i(2296);const h=function(){return["/viajesiniciados"]},f=function(){return["/menuprincipalconductor"]},U=function(){return["/rutaconductor"]},T=function(){return["/perfilconductor"]},q=function(){return["/registrarvehiculo"]},_=function(){return["/paginalogin-usuario"]},b=[{path:"",component:(()=>{var t;class r{constructor(a,u,l,s){this.router=a,this.alertController=u,this.formBuilder=l,this.database=s,this.arregloVehiculo=[{id_vehiculo:"",marca:"",modelo:"",anio:"",patente:"",asientos:"",id_usuario:"",id_tipo:""}],this.formularioRuta=this.formBuilder.group({f_viaje:new e.NI("",[e.kI.required]),hora_salida:new e.NI("",[e.kI.required]),salida:new e.NI("",[e.kI.required]),destino:new e.NI("",[e.kI.required]),cant_asientos:new e.NI("",[e.kI.required]),valor_asiento:new e.NI("",[e.kI.required])})}ngOnInit(){}crearRuta(){if(this.formularioRuta.valid){let a=this.formularioRuta.value,u="Disponible.",l=localStorage.getItem("id");this.database.buscarVehiculoUsuario(l).then(s=>{s.length>0?(this.arregloVehiculo=s,a.cant_asientos<=this.arregloVehiculo[0].asientos?this.database.insertarRutaC(a.f_viaje,a.hora_salida,a.salida,a.destino,a.cant_asientos,a.valor_asiento,u,l).then(p=>{null!==p?(console.log("Ruta creada correctamente."),this.presentarAlerta("Ruta creada","El viaje ha sido confirmado correctamente."),this.router.navigate(["/menuprincipalconductor"]),this.formularioRuta.reset()):(console.log("Ruta no confirmada."),this.presentarAlerta("Error al crear ruta","Rellene el formulario correctamente."))}).catch(p=>{console.error("Error al crear la ruta:",p)}):this.presentarAlerta("Error al crear viaje","La cantidad de asientos ingresada es mayor a los asientos del veh\xedculo registrado.")):this.presentarAlerta("Error al crear viaje","Debe registrar un veh\xedculo antes de crear un viaje.")})}else this.presentarAlerta("Error al crear ruta","Rellene el formulario correctamente.")}presentarAlerta(a,u){var l=this;return(0,v.Z)(function*(){yield(yield l.alertController.create({header:a,message:u,buttons:["Aceptar"]})).present()})()}}return(t=r).\u0275fac=function(a){return new(a||t)(o.Y36(d.F0),o.Y36(n.Br),o.Y36(e.qu),o.Y36(A.N))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-rutaconductor"]],decls:154,vars:13,consts:[["color","primary"],[2,"text-align","center"],[1,"ion-text-center"],[2,"text-align","center","font-weight","800"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","f_viaje","type","date"],["formControlName","hora_salida","type","time","id","horasalida"],["name","salida","id","salida","formControlName","salida"],["value","SedePlazaNorte"],["value","SedeAlameda"],["value","SedePedroAlonsoDelValle"],["value","SedeAntonioVaras"],["value","SedeEducacionContinua"],["value","SedeMaipu"],["value","SedeMelipilla"],["value","SedePlazaOeste"],["value","SedePlazaVespucio"],["value","SedePuenteAlto"],["value","SedeSanBernardo"],["value","SedeSanCarlosDeApoquindo"],["value","SedeSanJoaquin"],["name","destino","id","destino","formControlName","destino"],["value","cerrillos"],["value","cerronavia"],["value","conchali"],["value","elbosque"],["value","estacioncentral"],["value","huechuraba"],["value","independencia"],["value","lacisterna"],["value","laflorida"],["value","lagranja"],["value","lapintana"],["value","lareina"],["value","lascondes"],["value","lobarnechea"],["value","loespejo"],["value","loprado"],["value","macul"],["value","maipu"],["value","nunoa"],["value","pedroaguirrecerda"],["value","penalolen"],["value","providencia"],["value","pudahuel"],["value","quilicura"],["value","colina"],["name","cant_asientos","id","cant_asientos","formControlName","cant_asientos"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["name","valor_asiento","id","valor_asiento","formControlName","valor_asiento"],[2,"display","flex","flex-direction","row","justify-content","space-between","align-items","center"],["color","primary","type","submit"],["size","large",1,"custom-button",3,"routerLink"],[2,"display","flex","justify-content","center","align-items","center"],[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","Example icon button with a vertical three-dot icon",2,"margin-right","20px",3,"routerLink"],["name","home","color","primary"],[1,"button-text"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",2,"margin-right","20px",3,"routerLink"],["name","location","color","primary"],["mat-icon-button","","color","accent","aria-label","Example icon button with a menu icon",2,"margin-right","20px",3,"routerLink"],["name","person","color","primary"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",2,"margin-right","20px",3,"routerLink"],["name","car-sport","color","primary"],["mat-icon-button","","aria-label","Example icon button with an open in new tab icon",2,"margin-right","10px",3,"routerLink"],["name","exit","color","primary"]],template:function(a,u){1&a&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),o._uU(3,"ViaGo"),o.qZA()()(),o.TgZ(4,"ion-content")(5,"ion-card",2)(6,"ion-card-title")(7,"ion-item",0)(8,"ion-label",3),o._uU(9,"Crear Viaje"),o.qZA()()(),o.TgZ(10,"ion-card-content")(11,"form",4),o.NdJ("ngSubmit",function(){return u.crearRuta()}),o.TgZ(12,"ion-item")(13,"ion-label",5),o._uU(14,"Fecha Viaje:"),o.qZA(),o._UZ(15,"ion-input",6),o.qZA(),o.TgZ(16,"ion-item")(17,"ion-label",5),o._uU(18,"Hora Salida:"),o.qZA(),o._UZ(19,"ion-input",7),o.qZA(),o.TgZ(20,"ion-item")(21,"ion-label"),o._uU(22,"Salida:"),o.qZA(),o.TgZ(23,"select",8)(24,"option",9),o._uU(25,"Sede Plaza Norte"),o.qZA(),o.TgZ(26,"option",10),o._uU(27,"Sede Alameda"),o.qZA(),o.TgZ(28,"option",11),o._uU(29,"Sede Pedro Alonso de Valle"),o.qZA(),o.TgZ(30,"option",12),o._uU(31,"Sede Antonio Varas"),o.qZA(),o.TgZ(32,"option",13),o._uU(33,"Sede Educaci\xf3n Continua"),o.qZA(),o.TgZ(34,"option",14),o._uU(35,"Sede Maip\xfa"),o.qZA(),o.TgZ(36,"option",15),o._uU(37,"Sede Melipilla"),o.qZA(),o.TgZ(38,"option",16),o._uU(39,"Sede Plaza Oeste"),o.qZA(),o.TgZ(40,"option",17),o._uU(41,"Sede Plaza Vespucio"),o.qZA(),o.TgZ(42,"option",18),o._uU(43,"Sede Puente Alto"),o.qZA(),o.TgZ(44,"option",19),o._uU(45,"Sede San Bernardo"),o.qZA(),o.TgZ(46,"option",20),o._uU(47,"Sede San Carlos de Apoquindo"),o.qZA(),o.TgZ(48,"option",21),o._uU(49,"Sede San Joaquin"),o.qZA()()(),o.TgZ(50,"ion-item")(51,"ion-label"),o._uU(52,"Destino:"),o.qZA(),o.TgZ(53,"select",22)(54,"option",23),o._uU(55,"Cerrillos"),o.qZA(),o.TgZ(56,"option",24),o._uU(57,"Cerro Navia"),o.qZA(),o.TgZ(58,"option",25),o._uU(59,"Conchal\xed"),o.qZA(),o.TgZ(60,"option",26),o._uU(61,"El Bosque"),o.qZA(),o.TgZ(62,"option",27),o._uU(63,"Estaci\xf3n Central"),o.qZA(),o.TgZ(64,"option",28),o._uU(65,"Huechuraba"),o.qZA(),o.TgZ(66,"option",29),o._uU(67,"Independencia"),o.qZA(),o.TgZ(68,"option",30),o._uU(69,"La Cisterna"),o.qZA(),o.TgZ(70,"option",31),o._uU(71,"La Florida"),o.qZA(),o.TgZ(72,"option",32),o._uU(73,"La Granja"),o.qZA(),o.TgZ(74,"option",33),o._uU(75,"La Pintana"),o.qZA(),o.TgZ(76,"option",34),o._uU(77,"La Reina"),o.qZA(),o.TgZ(78,"option",35),o._uU(79,"Las Condes"),o.qZA(),o.TgZ(80,"option",36),o._uU(81,"Lo Barnechea"),o.qZA(),o.TgZ(82,"option",37),o._uU(83,"Lo Espejo"),o.qZA(),o.TgZ(84,"option",38),o._uU(85,"Lo Prado"),o.qZA(),o.TgZ(86,"option",39),o._uU(87,"Mac\xfal"),o.qZA(),o.TgZ(88,"option",40),o._uU(89,"Maip\xfa"),o.qZA(),o.TgZ(90,"option",41),o._uU(91,"\xd1u\xf1oa"),o.qZA(),o.TgZ(92,"option",42),o._uU(93,"Pedro Aguirre Cerda"),o.qZA(),o.TgZ(94,"option",43),o._uU(95,"Pe\xf1alol\xe9n"),o.qZA(),o.TgZ(96,"option",44),o._uU(97,"Providencia"),o.qZA(),o.TgZ(98,"option",45),o._uU(99,"Pudahuel"),o.qZA(),o.TgZ(100,"option",46),o._uU(101,"Quilicura"),o.qZA(),o.TgZ(102,"option",47),o._uU(103,"Colina"),o.qZA()()(),o.TgZ(104,"ion-item")(105,"ion-label"),o._uU(106,"Cantidad Asientos:"),o.qZA(),o.TgZ(107,"select",48)(108,"option",49),o._uU(109,"1"),o.qZA(),o.TgZ(110,"option",50),o._uU(111,"2"),o.qZA(),o.TgZ(112,"option",51),o._uU(113,"3"),o.qZA(),o.TgZ(114,"option",52),o._uU(115,"4"),o.qZA(),o.TgZ(116,"option",53),o._uU(117,"5"),o.qZA(),o.TgZ(118,"option",54),o._uU(119,"6"),o.qZA()()(),o.TgZ(120,"ion-item")(121,"ion-label",5),o._uU(122,"Valor Asiento:"),o.qZA(),o._UZ(123,"ion-input",55),o.qZA(),o.TgZ(124,"div",56)(125,"ion-button",57),o._uU(126,"Aceptar"),o.qZA()()()()(),o._UZ(127,"br")(128,"br"),o.TgZ(129,"ion-button",58),o._uU(130,"Ver viajes creados"),o.qZA()(),o.TgZ(131,"section",59)(132,"div",60)(133,"div",61)(134,"button",62),o._UZ(135,"ion-icon",63),o.TgZ(136,"span",64),o._uU(137,"Inicio"),o.qZA()(),o.TgZ(138,"button",65),o._UZ(139,"ion-icon",66),o.TgZ(140,"span",64),o._uU(141,"Viaje"),o.qZA()(),o.TgZ(142,"button",67),o._UZ(143,"ion-icon",68),o.TgZ(144,"span",64),o._uU(145,"Perfil"),o.qZA()(),o.TgZ(146,"button",69),o._UZ(147,"ion-icon",70),o.TgZ(148,"span",64),o._uU(149,"Auto"),o.qZA()(),o.TgZ(150,"button",71),o._UZ(151,"ion-icon",72),o.TgZ(152,"span",64),o._uU(153,"Cierre"),o.qZA()()()()()),2&a&&(o.xp6(11),o.Q6J("formGroup",u.formularioRuta),o.xp6(118),o.Q6J("routerLink",o.DdM(7,h)),o.xp6(5),o.Q6J("routerLink",o.DdM(8,f)),o.xp6(4),o.Q6J("routerLink",o.DdM(9,U)),o.xp6(4),o.Q6J("routerLink",o.DdM(10,T)),o.xp6(4),o.Q6J("routerLink",o.DdM(11,q)),o.xp6(4),o.Q6J("routerLink",o.DdM(12,_)))},dependencies:[n.YG,n.PM,n.FN,n.Dq,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Q$,n.wd,n.sr,n.j9,n.YI,d.rH,Z.RK,e._Y,e.YN,e.Kr,e.EJ,e.JJ,e.JL,e.sg,e.u],styles:['@charset "UTF-8";#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}.button-text[_ngcontent-%COMP%]{font-size:8px;margin-top:1px;display:block;text-align:center;color:#469597}']}),r})()}];let S=(()=>{var t;class r{}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[d.Bz.forChild(b),d.Bz]}),r})();var P=i(617),x=i(6385);let C=(()=>{var t;class r{}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.ez,n.Pc,S,P.Ps,Z.ot,x.t,e.UX]}),r})()}}]);