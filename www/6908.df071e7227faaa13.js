"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6908],{6908:(V,d,o)=>{o.r(d),o.d(d,{MenuprincipalPageModule:()=>J});var h=o(6814),v=o(6223),a=o(9843),u=o(2058),p=o(5861),b=o(7838),s=o(6825),n=o(5879),m=o(9862),y=o(8374);let Z=(()=>{var i;class r{constructor(t){this.http=t,this.httpOptions={headers:new m.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},this.apiURL="https://api.meteomatics.com/"}getClima(t,e,c){return this.http.get(this.apiURL+t+"/t_2m:C/"+e+","+c+"/json?access_token=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2IjoxLCJ1c2VyIjoiZHVvY3VjX211bm96X2Jhc3RpYW4iLCJpc3MiOiJsb2dpbi5tZXRlb21hdGljcy5jb20iLCJleHAiOjE3MDA0MTczOTksInN1YiI6ImFjY2VzcyJ9.szj7Xm8DCXAtqs9bw38VUcBP03wN5gjkaVmdk7fkZs6LcVULZtvMtKZvWzR3L9nzKXkHPKyc-pamPas_dEZEIA").pipe((0,y.X)(3))}}return(i=r).\u0275fac=function(t){return new(t||i)(n.LFG(m.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var x=o(4535),g=o(2296);const M=function(){return["/menuprincipal"]},j=function(){return["/tomarviaje"]},P=function(){return["/perfilusuario"]},A=function(){return["/comenzarviaje"]},C=function(){return["/paginalogin-usuario"]},U=[{path:"",component:(()=>{var i;class r{constructor(t,e,c){this.apiservice=t,this.database=e,this.alertController=c,this.dateTime="",this.id_usuario=localStorage.getItem("id")}ngOnInit(){}ionViewWillEnter(){this.obtenerClima(),this.verificarViajeUser()}obtenerClima(){var t=this;return(0,p.Z)(function*(){t.dateTime=(new Date).toISOString();const e=yield b.b.getCurrentPosition();t.apiservice.getClima(t.dateTime,e.coords.latitude,e.coords.longitude).subscribe(c=>{t.clima=c,console.log("Datos del clima:",t.clima)})})()}verificarViajeUser(){var t=this;return(0,p.Z)(function*(){t.database.buscarViaje("Disponible.").then(c=>{t.arregloViajes=c,t.database.verificarViaje(t.arregloViajes.id_viaje).then(f=>{f?console.log("Viaje a\xfan disponible."):t.presentarAlerta("Viaje rechazado","Su viaje ha sido rechazado por el conductor.")})}).catch(c=>{console.log("Error al buscar viajes: ",+c)})})()}presentarAlerta(t,e){var c=this;return(0,p.Z)(function*(){yield(yield c.alertController.create({header:t,message:e,buttons:["Aceptar"]})).present()})()}}return(i=r).\u0275fac=function(t){return new(t||i)(n.Y36(Z),n.Y36(x.N),n.Y36(a.Br))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-menuprincipal"]],decls:46,vars:11,consts:[[2,"border","solid 1.5px #469597"],["id","main-content",1,"ion-page"],["color","primary"],[2,"text-align","center"],["slot","start"],["color","primary",2,"margin-left","15px"],[2,"text-align","center","font-size","xx-large"],["name","partly-sunny-sharp"],[2,"display","flex","flex-direction","column","align-items","center","font-size","xx-large"],["color","primary",2,"margin-top","20%"],["color","primary",2,"text-align","center"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1302.0092590469305!2d-70.67890551376183!3d-33.36350127453191!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662c7025c925e0f%3A0x7f2f6a657c08d14a!2sDuoc%20UC%3A%20Sede%20Plaza%20Norte!5e0!3m2!1ses!2scl!4v1699745994646!5m2!1ses!2scl","width","400","height","300","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border-radius","10px"],[2,"display","flex","justify-content","center","align-items","center"],[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","Example icon button with a vertical three-dot icon",2,"margin-right","20px",3,"routerLink"],["name","home","color","primary"],[1,"button-text"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",2,"margin-right","20px",3,"routerLink"],["name","location","color","primary"],["mat-icon-button","","color","accent","aria-label","Example icon button with a menu icon",2,"margin-right","20px",3,"routerLink"],["name","person","color","primary"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",2,"margin-right","20px",3,"routerLink"],["name","car-sport","color","primary"],["mat-icon-button","","aria-label","Example icon button with an open in new tab icon",2,"margin-right","10px",3,"routerLink"],["name","exit","color","primary"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-content",0)(1,"div",1)(2,"ion-header")(3,"ion-toolbar",2)(4,"ion-title",3),n._uU(5,"\xa1Bienvenidos Usuarios!"),n.qZA(),n.TgZ(6,"ion-buttons",4),n._UZ(7,"ion-menu-button"),n.qZA()()()(),n._UZ(8,"br")(9,"br")(10,"br"),n.TgZ(11,"ion-card",5)(12,"ion-card-content")(13,"ion-card-title",6),n._uU(14,"Clima Parcial "),n._UZ(15,"ion-icon",7),n.qZA(),n.TgZ(16,"ion-label",8),n._uU(17),n.qZA()()(),n.TgZ(18,"ion-card",9)(19,"ion-card")(20,"ion-card-title",10),n._uU(21,"Puntos de Partida"),n.qZA(),n._UZ(22,"iframe",11),n.qZA()()(),n.TgZ(23,"section",12)(24,"div",13)(25,"div",14)(26,"button",15),n._UZ(27,"ion-icon",16),n.TgZ(28,"span",17),n._uU(29,"Inicio"),n.qZA()(),n.TgZ(30,"button",18),n._UZ(31,"ion-icon",19),n.TgZ(32,"span",17),n._uU(33,"Viaje"),n.qZA()(),n.TgZ(34,"button",20),n._UZ(35,"ion-icon",21),n.TgZ(36,"span",17),n._uU(37,"Perfil"),n.qZA()(),n.TgZ(38,"button",22),n._UZ(39,"ion-icon",23),n.TgZ(40,"span",17),n._uU(41,"Auto"),n.qZA()(),n.TgZ(42,"button",24),n._UZ(43,"ion-icon",25),n.TgZ(44,"span",17),n._uU(45,"Cierre"),n.qZA()()()()()),2&t&&(n.xp6(17),n.hij("",null==e.clima||null==e.clima.data[0]||null==e.clima.data[0].coordinates[0]||null==e.clima.data[0].coordinates[0].dates[0]?null:e.clima.data[0].coordinates[0].dates[0].value,"\xb0C"),n.xp6(9),n.Q6J("routerLink",n.DdM(6,M)),n.xp6(4),n.Q6J("routerLink",n.DdM(7,j)),n.xp6(4),n.Q6J("routerLink",n.DdM(8,P)),n.xp6(4),n.Q6J("routerLink",n.DdM(9,A)),n.xp6(4),n.Q6J("routerLink",n.DdM(10,C)))},dependencies:[a.Sm,a.PM,a.FN,a.Dq,a.W2,a.Gu,a.gu,a.Q$,a.fG,a.wd,a.sr,a.YI,u.rH,g.RK],styles:['@charset "UTF-8";#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}.button-text[_ngcontent-%COMP%]{font-size:8px;margin-top:1px;display:block;text-align:center;color:#469597}'],data:{animation:[(0,s.X$)("fade",[(0,s.eR)("void => *",[(0,s.oB)({opacity:0}),(0,s.jt)(500,(0,s.oB)({opacity:1}))])])]}}),r})()}];let T=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[u.Bz.forChild(U),u.Bz]}),r})();var z=o(617),L=o(6385);let J=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[h.ez,v.u5,a.Pc,T,z.Ps,L.t,g.ot,m.JF]}),r})()}}]);