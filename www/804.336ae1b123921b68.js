"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[804],{804:(fr,d,m)=>{m.r(d),m.d(d,{PaginaregistrarUsuarioPageModule:()=>_r});var Z=m(6814),n=m(6223),s=m(9843),_=m(2058),P=m(5861),f=m(8162),r=m(5879),U=m(4535);function x(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function T(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 3 car\xe1cteres."),r.qZA())}function q(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 30 car\xe1cteres."),r.qZA())}function v(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo NO requiere car\xe1cteres especiales ni n\xfameros."),r.qZA())}function A(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,x,2,0,"p",22),r.YNc(2,T,2,0,"p",22),r.YNc(3,q,2,0,"p",22),r.YNc(4,v,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("nombre"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("nombre"))||null==i.errors?null:i.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("nombre"))||null==l.errors?null:l.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("nombre"))||null==u.errors?null:u.errors.pattern)}}function I(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function E(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 3 car\xe1cteres."),r.qZA())}function h(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 30 car\xe1cteres."),r.qZA())}function R(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo NO requiere car\xe1cteres especiales."),r.qZA())}function N(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,I,2,0,"p",22),r.YNc(2,E,2,0,"p",22),r.YNc(3,h,2,0,"p",22),r.YNc(4,R,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("apellido"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("apellido"))||null==i.errors?null:i.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("apellido"))||null==l.errors?null:l.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("apellido"))||null==u.errors?null:u.errors.pattern)}}function J(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function Y(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo debe tener estructura de correo electr\xf3nico."),r.qZA())}function Q(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 10 car\xe1cteres."),r.qZA())}function b(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 50 car\xe1cteres."),r.qZA())}function w(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,J,2,0,"p",22),r.YNc(2,Y,2,0,"p",22),r.YNc(3,Q,2,0,"p",22),r.YNc(4,b,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("correo"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("correo"))||null==i.errors?null:i.errors.email),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("correo"))||null==l.errors?null:l.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("correo"))||null==u.errors?null:u.errors.maxlength)}}function y(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function k(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,y,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("correo"))||null==o.errors?null:o.errors.required)}}function C(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function F(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 12 car\xe1cteres."),r.qZA())}function D(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 14 car\xe1cteres."),r.qZA())}function L(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere s\xf3lo n\xfameros."),r.qZA())}function M(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere puntos y gui\xf3n."),r.qZA())}function S(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,C,2,0,"p",22),r.YNc(2,F,2,0,"p",22),r.YNc(3,D,2,0,"p",22),r.YNc(4,L,2,0,"p",22),r.YNc(5,M,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u,g;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("rut"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("rut"))||null==i.errors?null:i.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("rut"))||null==l.errors?null:l.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("rut"))||null==u.errors?null:u.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(g=a.formularioRegistro.get("rut"))||null==g.errors?null:g.errors.pattern)}}function O(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function z(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 9 car\xe1cteres."),r.qZA())}function B(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 9 car\xe1cteres."),r.qZA())}function G(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo NO requiere letras ni car\xe1cteres especiales."),r.qZA())}function $(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,O,2,0,"p",22),r.YNc(2,z,2,0,"p",22),r.YNc(3,B,2,0,"p",22),r.YNc(4,G,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("celular"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("celular"))||null==i.errors?null:i.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("celular"))||null==l.errors?null:l.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("celular"))||null==u.errors?null:u.errors.pattern)}}function K(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function j(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 10 car\xe1cteres."),r.qZA())}function X(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 30 car\xe1cteres."),r.qZA())}function H(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo una may\xfascula."),r.qZA())}function V(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo una min\xfascula."),r.qZA())}function W(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo un n\xfamero."),r.qZA())}function rr(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo un car\xe1cter especial."),r.qZA())}function er(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,K,2,0,"p",22),r.YNc(2,j,2,0,"p",22),r.YNc(3,X,2,0,"p",22),r.YNc(4,H,2,0,"p",22),r.YNc(5,V,2,0,"p",22),r.YNc(6,W,2,0,"p",22),r.YNc(7,rr,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u,g,p,c;r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("password"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("password"))||null==i.errors?null:i.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("password"))||null==l.errors?null:l.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("password"))||null==u.errors?null:u.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(g=a.formularioRegistro.get("password"))||null==g.errors?null:g.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(p=a.formularioRegistro.get("password"))||null==p.errors?null:p.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(c=a.formularioRegistro.get("password"))||null==c.errors?null:c.errors.pattern)}}function ir(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Las contrase\xf1as no coinciden"),r.qZA())}function or(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo es obligatorio."),r.qZA())}function tr(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo 10 car\xe1cteres."),r.qZA())}function ar(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xe1ximo 30 car\xe1cteres."),r.qZA())}function nr(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo una may\xfascula."),r.qZA())}function lr(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo una min\xfascula."),r.qZA())}function ur(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo un n\xfamero."),r.qZA())}function sr(e,t){1&e&&(r.TgZ(0,"p",23),r._uU(1,"Este campo requiere m\xednimo un car\xe1cter especial."),r.qZA())}function gr(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,ir,2,0,"p",22),r.YNc(2,or,2,0,"p",22),r.YNc(3,tr,2,0,"p",22),r.YNc(4,ar,2,0,"p",22),r.YNc(5,nr,2,0,"p",22),r.YNc(6,lr,2,0,"p",22),r.YNc(7,ur,2,0,"p",22),r.YNc(8,sr,2,0,"p",22),r.qZA()),2&e){const a=r.oxw();let o,i,l,u,g,p,c;r.xp6(1),r.Q6J("ngIf",!a.contrasenasCoinciden()),r.xp6(1),r.Q6J("ngIf",null==(o=a.formularioRegistro.get("confirmacionPassword"))||null==o.errors?null:o.errors.required),r.xp6(1),r.Q6J("ngIf",null==(i=a.formularioRegistro.get("confirmacionPassword"))||null==i.errors?null:i.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==(l=a.formularioRegistro.get("confirmacionPassword"))||null==l.errors?null:l.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==(u=a.formularioRegistro.get("confirmacionPassword"))||null==u.errors?null:u.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(g=a.formularioRegistro.get("confirmacionPassword"))||null==g.errors?null:g.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(p=a.formularioRegistro.get("confirmacionPassword"))||null==p.errors?null:p.errors.pattern),r.xp6(1),r.Q6J("ngIf",null==(c=a.formularioRegistro.get("confirmacionPassword"))||null==c.errors?null:c.errors.pattern)}}function mr(e,t){if(1&e&&r._UZ(0,"img",24),2&e){const a=r.oxw();r.Q6J("src",a.imageSource,r.LSH)}}const pr=[{path:"",component:(()=>{var e;class t{constructor(o,i,l,u){this.fb=o,this.alertController=i,this.database=l,this.router=u,this.takePicture=(0,P.Z)(function*(){yield f.V1.getPhoto({quality:90,allowEditing:!1,resultType:f.dk.DataUrl,source:f.oK.Prompt})}),this.formularioRegistro=this.fb.group({nombre:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(30),n.kI.pattern("[a-zA-Z]*")]),apellido:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(30),n.kI.pattern("[a-zA-Z\xf1\xd1]*")]),rut:new n.NI("",[n.kI.required,n.kI.minLength(12),n.kI.maxLength(13),n.kI.pattern("[0-9K.-]*")]),fechanacimiento:new n.NI("",[n.kI.required]),correo:new n.NI("",[n.kI.required,n.kI.minLength(10),n.kI.maxLength(50),n.kI.email]),celular:new n.NI("",[n.kI.required,n.kI.minLength(9),n.kI.maxLength(9),n.kI.pattern("[0-9]*")]),password:new n.NI("",[n.kI.required,n.kI.minLength(10),n.kI.maxLength(50),n.kI.pattern("[a-zA-Z0-9@#$%^&*.,]*")]),confirmacionPassword:new n.NI("",[n.kI.required,n.kI.minLength(10),n.kI.maxLength(50),n.kI.pattern("[a-zA-Z0-9.,@#$%^&*.,]*")]),id_rol:new n.NI("",[n.kI.required])})}ngOnInit(){}guardarUsuario(){if(this.formularioRegistro.valid){let o=this.formularioRegistro.value;this.database.insertarUsuario(o.nombre,o.apellido,o.correo,o.fechanacimiento,o.rut,o.celular,o.password,o.id_rol).then(i=>{null!==i?(console.log("Usuario registrado correctamente."),this.presentarAlerta("Usuario Registrado","El usuario ha sido registrado correctamente."),this.router.navigate(["/paginalogin-usuario"]),this.formularioRegistro.reset()):(console.log("Usuario no registrado."),this.presentarAlerta("Error al registrar","Rellene el formulario correctamente."))}).catch(i=>{console.error("Error al insertar el usuario.",i)})}else this.presentarAlerta("Error","Rellene el formulario correctamente.")}contrasenasCoinciden(){var o,i;return(null===(o=this.formularioRegistro.get("password"))||void 0===o?void 0:o.value)===(null===(i=this.formularioRegistro.get("confirmacionPassword"))||void 0===i?void 0:i.value)}presentarAlerta(o,i){var l=this;return(0,P.Z)(function*(){yield(yield l.alertController.create({header:o,message:i,buttons:["Aceptar"]})).present()})()}}return(e=t).\u0275fac=function(o){return new(o||e)(r.Y36(n.qu),r.Y36(s.Br),r.Y36(U.N),r.Y36(_.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-paginaregistrar-usuario"]],decls:68,vars:10,consts:[["color","primary"],["slot","start"],[3,"formGroup","ngSubmit"],["position","floating","required",""],["formControlName","nombre","id","nombre"],[4,"ngIf"],["position","floating"],["formControlName","apellido","type","text"],["formControlName","correo","type","text"],["formControlName","fechanacimiento","type","date","max","2005-11-11","min","1923-01-01"],["formControlName","rut","type","text"],["formControlName","celular","type","number"],["formControlName","password","type","password"],["formControlName","confirmacionPassword","type","password"],["for","id"],["id","id","name","id","formControlName","id_rol"],["value","1"],["value","2"],["id","container"],[3,"click"],["alt","imageSource","style","width: 100%;max-width: 250px;",3,"src",4,"ngIf"],["type","submit"],["color","danger",4,"ngIf"],["color","danger"],["alt","imageSource",2,"width","100%","max-width","250px",3,"src"]],template:function(o,i){1&o&&(r.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),r._UZ(3,"ion-back-button"),r.qZA(),r.TgZ(4,"ion-title"),r._uU(5,"Registrate"),r.qZA()()(),r.TgZ(6,"ion-content")(7,"ion-card")(8,"ion-card-header",0)(9,"ion-card-title"),r._uU(10,"Registro:"),r.qZA()(),r.TgZ(11,"ion-card-content")(12,"form",2),r.NdJ("ngSubmit",function(){return i.guardarUsuario()}),r.TgZ(13,"ion-item")(14,"ion-label",3),r._uU(15,"Nombre:"),r.qZA(),r._UZ(16,"ion-input",4),r.qZA(),r.YNc(17,A,5,4,"div",5),r.TgZ(18,"ion-item")(19,"ion-label",6),r._uU(20,"Apellido:"),r.qZA(),r._UZ(21,"ion-input",7),r.qZA(),r.YNc(22,N,5,4,"div",5),r.TgZ(23,"ion-item")(24,"ion-label",6),r._uU(25,"Correo:"),r.qZA(),r._UZ(26,"ion-input",8),r.qZA(),r.YNc(27,w,5,4,"div",5),r.TgZ(28,"ion-item")(29,"ion-label",6),r._uU(30,"Fecha de Nacimiento:"),r.qZA(),r._UZ(31,"ion-input",9),r.qZA(),r.YNc(32,k,2,1,"div",5),r.TgZ(33,"ion-item")(34,"ion-label",6),r._uU(35,"Rut:"),r.qZA(),r._UZ(36,"ion-input",10),r.qZA(),r.YNc(37,S,6,5,"div",5),r.TgZ(38,"ion-item")(39,"ion-label",6),r._uU(40,"Celular:"),r.qZA(),r._UZ(41,"ion-input",11),r.qZA(),r.YNc(42,$,5,4,"div",5),r.TgZ(43,"ion-item")(44,"ion-label",6),r._uU(45,"Contrase\xf1a:"),r.qZA(),r._UZ(46,"ion-input",12),r.qZA(),r.YNc(47,er,8,7,"div",5),r.TgZ(48,"ion-item")(49,"ion-label",6),r._uU(50,"Confirmar contrase\xf1a:"),r.qZA(),r._UZ(51,"ion-input",13),r.qZA(),r.YNc(52,gr,9,8,"div",5),r.TgZ(53,"ion-item")(54,"ion-label",14),r._uU(55,"Tipo de Usuario"),r.qZA(),r.TgZ(56,"select",15)(57,"option",16),r._uU(58,"Cliente"),r.qZA(),r.TgZ(59,"option",17),r._uU(60,"Conductor"),r.qZA()()(),r.TgZ(61,"div",18)(62,"ion-button",19),r.NdJ("click",function(){return i.takePicture()}),r._uU(63,"Tomar Foto"),r.qZA(),r.YNc(64,mr,1,1,"img",20),r.qZA(),r._UZ(65,"br"),r.TgZ(66,"ion-button",21),r._uU(67,"Registrarse"),r.qZA()()()()()),2&o&&(r.xp6(12),r.Q6J("formGroup",i.formularioRegistro),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(5),r.Q6J("ngIf",i.formularioRegistro.invalid&&(i.formularioRegistro.dirty||i.formularioRegistro.touched)),r.xp6(12),r.Q6J("ngIf",i.imageSource))},dependencies:[Z.O5,n._Y,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u,s.oU,s.YG,s.Sm,s.PM,s.FN,s.Zi,s.Dq,s.W2,s.Gu,s.pK,s.Ie,s.Q$,s.wd,s.sr,s.as,s.j9,s.cs],styles:["#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:rgb(241, 241, 236);--ion-border-color:primary}"]}),t})()}];let cr=(()=>{var e;class t{}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[_.Bz.forChild(pr),_.Bz]}),t})(),_r=(()=>{var e;class t{}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Z.ez,n.u5,n.UX,s.Pc,cr]}),t})()}}]);