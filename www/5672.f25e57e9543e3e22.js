"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5672],{5672:(U,f,r)=>{r.r(f),r.d(f,{RutaconductorPageModule:()=>C});var h=r(6814),t=r(9843),i=r(2058),v=r(7791),o=r(6223),e=r(5879),Z=r(4535),d=r(2296);const u=function(){return["/menuprincipalconductor"]},p=function(){return["/viajesiniciados"]},l=function(){return["/rutaconductor"]},_=function(){return["/perfilconductor"]},q=function(){return["/registrarvehiculo"]},b=function(){return["/paginalogin-usuario"]},P=[{path:"",component:(()=>{var n;class c{constructor(a,s,g,A){this.router=a,this.alertController=s,this.formBuilder=g,this.database=A,this.arregloVehiculo=[{id_vehiculo:"",marca:"",modelo:"",anio:"",patente:"",asientos:"",id_usuario:"",id_tipo:""}],this.formularioRuta=this.formBuilder.group({f_viaje:new o.NI("",[o.kI.required]),hora_salida:new o.NI("",[o.kI.required]),salida:new o.NI("",[o.kI.required]),destino:new o.NI("",[o.kI.required]),cant_asientos:new o.NI("",[o.kI.required]),valor_asiento:new o.NI("",[o.kI.required])})}ngOnInit(){}crearRuta(){if(this.formularioRuta.valid){let a=this.formularioRuta.value,s="Disponible.",g=localStorage.getItem("id");this.database.buscarVehiculoUsuario(g).then(A=>{A.length>0?(this.arregloVehiculo=A,a.cant_asientos<=this.arregloVehiculo[0].asientos?this.database.insertarRutaC(a.f_viaje,a.hora_salida,a.salida,a.destino,a.cant_asientos,a.valor_asiento,s,g).then(T=>{null!==T?(console.log("Ruta creada correctamente."),this.presentarAlerta("Ruta creada","El viaje ha sido confirmado correctamente."),this.router.navigate(["/menuprincipalconductor"]),this.formularioRuta.reset()):(console.log("Ruta no confirmada."),this.presentarAlerta("Error al crear ruta","Rellene el formulario correctamente."))}).catch(T=>{console.error("Error al crear la ruta:",T)}):this.presentarAlerta("Error al crear viaje","La cantidad de asientos ingresada es mayor a los asientos del veh\xedculo registrado.")):this.presentarAlerta("Error al crear viaje","Debe registrar un veh\xedculo antes de crear un viaje.")})}else this.presentarAlerta("Error al crear ruta","Rellene el formulario correctamente.")}presentarAlerta(a,s){var g=this;return(0,v.Z)(function*(){yield(yield g.alertController.create({header:a,message:s,buttons:["Aceptar"]})).present()})()}}return(n=c).\u0275fac=function(a){return new(a||n)(e.Y36(i.F0),e.Y36(t.Br),e.Y36(o.qu),e.Y36(Z.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rutaconductor"]],decls:157,vars:15,consts:[["color","primary"],[2,"text-align","center"],[1,"ion-text-center"],[2,"text-align","center","font-weight","800"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","f_viaje","type","date"],["formControlName","hora_salida","type","time","id","horasalida"],["name","salida","id","salida","formControlName","salida"],["value","SedePlazaNorte"],["value","SedeAlameda"],["value","SedePedroAlonsoDelValle"],["value","SedeAntonioVaras"],["value","SedeEducacionContinua"],["value","SedeMaipu"],["value","SedeMelipilla"],["value","SedePlazaOeste"],["value","SedePlazaVespucio"],["value","SedePuenteAlto"],["value","SedeSanBernardo"],["value","SedeSanCarlosDeApoquindo"],["value","SedeSanJoaquin"],["name","destino","id","destino","formControlName","destino"],["value","cerrillos"],["value","cerronavia"],["value","conchali"],["value","elbosque"],["value","estacioncentral"],["value","huechuraba"],["value","independencia"],["value","lacisterna"],["value","laflorida"],["value","lagranja"],["value","lapintana"],["value","lareina"],["value","lascondes"],["value","lobarnechea"],["value","loespejo"],["value","loprado"],["value","macul"],["value","maipu"],["value","nunoa"],["value","pedroaguirrecerda"],["value","penalolen"],["value","providencia"],["value","pudahuel"],["value","quilicura"],["value","colina"],["name","cant_asientos","id","cant_asientos","formControlName","cant_asientos"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["name","valor_asiento","id","valor_asiento","formControlName","valor_asiento"],[2,"display","flex","flex-direction","row","justify-content","space-between","align-items","center"],["color","primary","type","submit"],["color","primary",3,"routerLink"],["size","large",1,"custom-button",3,"routerLink"],[2,"display","flex","justify-content","center","align-items","center"],[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","Example icon button with a vertical three-dot icon",2,"margin-right","20px",3,"routerLink"],["name","home","color","primary"],[1,"button-text"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",2,"margin-right","20px",3,"routerLink"],["name","location","color","primary"],["mat-icon-button","","color","accent","aria-label","Example icon button with a menu icon",2,"margin-right","20px",3,"routerLink"],["name","person","color","primary"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",2,"margin-right","20px",3,"routerLink"],["name","car-sport","color","primary"],["mat-icon-button","","aria-label","Example icon button with an open in new tab icon",2,"margin-right","10px",3,"routerLink"],["name","exit","color","primary"]],template:function(a,s){1&a&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e._uU(3,"ViaGo"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"ion-card",2)(6,"ion-card-title")(7,"ion-item",0)(8,"ion-label",3),e._uU(9,"Crear Viaje"),e.qZA()()(),e.TgZ(10,"ion-card-content")(11,"form",4),e.NdJ("ngSubmit",function(){return s.crearRuta()}),e.TgZ(12,"ion-item")(13,"ion-label",5),e._uU(14,"Fecha Viaje:"),e.qZA(),e._UZ(15,"ion-input",6),e.qZA(),e.TgZ(16,"ion-item")(17,"ion-label",5),e._uU(18,"Hora Salida:"),e.qZA(),e._UZ(19,"ion-input",7),e.qZA(),e.TgZ(20,"ion-item")(21,"ion-label"),e._uU(22,"Salida:"),e.qZA(),e.TgZ(23,"select",8)(24,"option",9),e._uU(25,"Sede Plaza Norte"),e.qZA(),e.TgZ(26,"option",10),e._uU(27,"Sede Alameda"),e.qZA(),e.TgZ(28,"option",11),e._uU(29,"Sede Pedro Alonso de Valle"),e.qZA(),e.TgZ(30,"option",12),e._uU(31,"Sede Antonio Varas"),e.qZA(),e.TgZ(32,"option",13),e._uU(33,"Sede Educaci\xf3n Continua"),e.qZA(),e.TgZ(34,"option",14),e._uU(35,"Sede Maip\xfa"),e.qZA(),e.TgZ(36,"option",15),e._uU(37,"Sede Melipilla"),e.qZA(),e.TgZ(38,"option",16),e._uU(39,"Sede Plaza Oeste"),e.qZA(),e.TgZ(40,"option",17),e._uU(41,"Sede Plaza Vespucio"),e.qZA(),e.TgZ(42,"option",18),e._uU(43,"Sede Puente Alto"),e.qZA(),e.TgZ(44,"option",19),e._uU(45,"Sede San Bernardo"),e.qZA(),e.TgZ(46,"option",20),e._uU(47,"Sede San Carlos de Apoquindo"),e.qZA(),e.TgZ(48,"option",21),e._uU(49,"Sede San Joaquin"),e.qZA()()(),e.TgZ(50,"ion-item")(51,"ion-label"),e._uU(52,"Destino:"),e.qZA(),e.TgZ(53,"select",22)(54,"option",23),e._uU(55,"Cerrillos"),e.qZA(),e.TgZ(56,"option",24),e._uU(57,"Cerro Navia"),e.qZA(),e.TgZ(58,"option",25),e._uU(59,"Conchal\xed"),e.qZA(),e.TgZ(60,"option",26),e._uU(61,"El Bosque"),e.qZA(),e.TgZ(62,"option",27),e._uU(63,"Estaci\xf3n Central"),e.qZA(),e.TgZ(64,"option",28),e._uU(65,"Huechuraba"),e.qZA(),e.TgZ(66,"option",29),e._uU(67,"Independencia"),e.qZA(),e.TgZ(68,"option",30),e._uU(69,"La Cisterna"),e.qZA(),e.TgZ(70,"option",31),e._uU(71,"La Florida"),e.qZA(),e.TgZ(72,"option",32),e._uU(73,"La Granja"),e.qZA(),e.TgZ(74,"option",33),e._uU(75,"La Pintana"),e.qZA(),e.TgZ(76,"option",34),e._uU(77,"La Reina"),e.qZA(),e.TgZ(78,"option",35),e._uU(79,"Las Condes"),e.qZA(),e.TgZ(80,"option",36),e._uU(81,"Lo Barnechea"),e.qZA(),e.TgZ(82,"option",37),e._uU(83,"Lo Espejo"),e.qZA(),e.TgZ(84,"option",38),e._uU(85,"Lo Prado"),e.qZA(),e.TgZ(86,"option",39),e._uU(87,"Mac\xfal"),e.qZA(),e.TgZ(88,"option",40),e._uU(89,"Maip\xfa"),e.qZA(),e.TgZ(90,"option",41),e._uU(91,"\xd1u\xf1oa"),e.qZA(),e.TgZ(92,"option",42),e._uU(93,"Pedro Aguirre Cerda"),e.qZA(),e.TgZ(94,"option",43),e._uU(95,"Pe\xf1alol\xe9n"),e.qZA(),e.TgZ(96,"option",44),e._uU(97,"Providencia"),e.qZA(),e.TgZ(98,"option",45),e._uU(99,"Pudahuel"),e.qZA(),e.TgZ(100,"option",46),e._uU(101,"Quilicura"),e.qZA(),e.TgZ(102,"option",47),e._uU(103,"Colina"),e.qZA()()(),e.TgZ(104,"ion-item")(105,"ion-label"),e._uU(106,"Cantidad Asientos:"),e.qZA(),e.TgZ(107,"select",48)(108,"option",49),e._uU(109,"1"),e.qZA(),e.TgZ(110,"option",50),e._uU(111,"2"),e.qZA(),e.TgZ(112,"option",51),e._uU(113,"3"),e.qZA(),e.TgZ(114,"option",52),e._uU(115,"4"),e.qZA(),e.TgZ(116,"option",53),e._uU(117,"5"),e.qZA(),e.TgZ(118,"option",54),e._uU(119,"6"),e.qZA()()(),e.TgZ(120,"ion-item")(121,"ion-label")(122,"ion-input",55),e._uU(123,"Valor Asiento:"),e.qZA()()(),e.TgZ(124,"div",56)(125,"ion-button",57),e._uU(126,"Aceptar"),e.qZA(),e.TgZ(127,"ion-button",58),e._uU(128,"Men\xfa principal"),e.qZA()()()()(),e._UZ(129,"br")(130,"br"),e.TgZ(131,"ion-item")(132,"ion-button",59),e._uU(133,"Ver viajes creados"),e.qZA()()(),e.TgZ(134,"section",60)(135,"div",61)(136,"div",62)(137,"button",63),e._UZ(138,"ion-icon",64),e.TgZ(139,"span",65),e._uU(140,"Inicio"),e.qZA()(),e.TgZ(141,"button",66),e._UZ(142,"ion-icon",67),e.TgZ(143,"span",65),e._uU(144,"Viaje"),e.qZA()(),e.TgZ(145,"button",68),e._UZ(146,"ion-icon",69),e.TgZ(147,"span",65),e._uU(148,"Perfil"),e.qZA()(),e.TgZ(149,"button",70),e._UZ(150,"ion-icon",71),e.TgZ(151,"span",65),e._uU(152,"Auto"),e.qZA()(),e.TgZ(153,"button",72),e._UZ(154,"ion-icon",73),e.TgZ(155,"span",65),e._uU(156,"Cierre"),e.qZA()()()()()),2&a&&(e.xp6(11),e.Q6J("formGroup",s.formularioRuta),e.xp6(116),e.Q6J("routerLink",e.DdM(8,u)),e.xp6(5),e.Q6J("routerLink",e.DdM(9,p)),e.xp6(5),e.Q6J("routerLink",e.DdM(10,u)),e.xp6(4),e.Q6J("routerLink",e.DdM(11,l)),e.xp6(4),e.Q6J("routerLink",e.DdM(12,_)),e.xp6(4),e.Q6J("routerLink",e.DdM(13,q)),e.xp6(4),e.Q6J("routerLink",e.DdM(14,b)))},dependencies:[t.YG,t.PM,t.FN,t.Dq,t.W2,t.Gu,t.gu,t.pK,t.Ie,t.Q$,t.wd,t.sr,t.j9,t.YI,i.rH,d.RK,o._Y,o.YN,o.Kr,o.EJ,o.JJ,o.JL,o.sg,o.u],styles:['@charset "UTF-8";#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}.button-text[_ngcontent-%COMP%]{font-size:8px;margin-top:1px;display:block;text-align:center;color:#469597}']}),c})()}];let S=(()=>{var n;class c{}return(n=c).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[i.Bz.forChild(P),i.Bz]}),c})();var x=r(617),y=r(6385);let C=(()=>{var n;class c{}return(n=c).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,t.Pc,S,x.Ps,d.ot,y.t,o.UX]}),c})()},7791:(U,f,r)=>{function h(i,v,o,e,Z,d,u){try{var p=i[d](u),l=p.value}catch(_){return void o(_)}p.done?v(l):Promise.resolve(l).then(e,Z)}function t(i){return function(){var v=this,o=arguments;return new Promise(function(e,Z){var d=i.apply(v,o);function u(l){h(d,e,Z,u,p,"next",l)}function p(l){h(d,e,Z,u,p,"throw",l)}u(void 0)})}}r.d(f,{Z:()=>t})}}]);