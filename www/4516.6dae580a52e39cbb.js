"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4516],{4516:(U,Z,r)=>{r.r(Z),r.d(Z,{HistorialconductorPageModule:()=>C});var h=r(6814),x=r(6223),e=r(9843),s=r(2058),f=r(7791),o=r(5879),m=r(4535),u=r(2296);function d(t,n){if(1&t&&(o.TgZ(0,"ion-item")(1,"ion-label"),o._uU(2),o.qZA(),o._UZ(3,"br"),o.TgZ(4,"ion-label"),o._uU(5),o.qZA()()),2&t){const a=n.$implicit;o.xp6(2),o.hij("Marca: ",a.marca,""),o.xp6(3),o.hij("Modelo: ",a.modelo,"")}}function g(t,n){if(1&t&&(o.TgZ(0,"ion-item")(1,"ion-label")(2,"strong"),o._uU(3),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.qZA(),o.TgZ(11,"p"),o._uU(12),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.qZA(),o.TgZ(15,"p"),o._uU(16),o.qZA(),o.TgZ(17,"p"),o._uU(18),o.qZA(),o._UZ(19,"br"),o.TgZ(20,"h4"),o._uU(21,"Vehiculo:"),o.qZA(),o.YNc(22,d,6,2,"ion-item",4),o.qZA()()),2&t){const a=n.$implicit,i=o.oxw().$implicit,c=o.oxw();o.xp6(3),o.hij("Pasajero: ",a.nombre,""),o.xp6(3),o.hij("Fecha del Viaje: ",i.f_viaje,""),o.xp6(2),o.hij("Hora de Salida: ",i.hora_salida,""),o.xp6(2),o.hij("Salida: ",i.salida,""),o.xp6(2),o.hij("Destino: ",i.destino,""),o.xp6(2),o.hij("Asientos Ocupados: ",i.cant_asientos,""),o.xp6(2),o.hij("Valor Asiento: ",i.valor_asiento,""),o.xp6(2),o.hij("Estado: ",i.estado,""),o.xp6(4),o.Q6J("ngForOf",c.arregloVehiculo)}}function l(t,n){if(1&t&&(o.TgZ(0,"ion-item")(1,"ion-card")(2,"ion-card-content"),o.YNc(3,g,23,9,"ion-item",4),o.qZA()()()),2&t){const a=o.oxw();o.xp6(3),o.Q6J("ngForOf",a.arregloUsuario)}}const b=function(){return["/viajesiniciados"]},A=function(){return["/menuprincipalconductor"]},j=function(){return["/rutaconductor"]},T=function(){return["/perfilconductor"]},y=function(){return["/registrarvehiculo"]},P=function(){return["/paginalogin-usuario"]},M=[{path:"",component:(()=>{var t;class n{constructor(i,c){this.database=i,this.alertController=c,this.id_conductor=localStorage.getItem("id"),this.arregloDetalle=[{id_detalle:"",id_usuario:"",id_viaje:""}],this.arregloUsuario=[{id_usuario:"",nombre:"",apellido:"",correo:"",fechanacimiento:"",rut:"",celular:"",contrasena:"",fotoperfil:""}],this.arregloVehiculo=[{id_vehiculo:"",marca:"",modelo:"",anio:"",patente:"",asientos:"",id_usuario:"",id_tipo:""}],this.arregloViajes=[{id_viaje:"",f_viaje:"",hora_salida:"",salida:"",destino:"",cant_asientos:"",valor_asiento:"",estado:"",id_usuario:""}]}ngOnInit(){let i=localStorage.getItem("id");this.database.buscarViajeCreadoUser(i,"Finalizado.").then(p=>{p.length>0?(console.log("Viajes del usuario: ",p),this.arregloViajes=p,this.database.buscarDetalleViaje(this.arregloViajes.id_viaje).then(_=>{_.length>0?(console.log("Detalle del viaje: ",_),this.arregloDetalle=_,this.database.buscarDatosUsuario(this.arregloDetalle.id_usuario).then(v=>{v.length>0?(console.log("Usuario del viaje: ",v),this.arregloUsuario=v):this.presentarAlerta("Error al cargar usuario","No se ha podido cargar el usuario correctamente.")})):this.presentarAlerta("Error al cargar detalle","No se ha podido cargar el detalle correctamente.")})):this.presentarAlerta("Error al cargar viajes","Usted a\xfan no ha finalizado un viaje.")}),this.database.buscarVehiculoUsuario(i),this.database.fetchVehiculoUser().subscribe(p=>{this.arregloVehiculo=p})}presentarAlerta(i,c){var p=this;return(0,f.Z)(function*(){yield(yield p.alertController.create({header:i,message:c,buttons:["Aceptar"]})).present()})()}}return(t=n).\u0275fac=function(i){return new(i||t)(o.Y36(m.N),o.Y36(e.Br))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-historialconductor"]],decls:35,vars:14,consts:[[3,"translucent"],["color","primary",2,"text-align","center"],["color","primary"],["color","primary",1,"ion-text-center",2,"text-align","center","font-weight","800"],[4,"ngFor","ngForOf"],[3,"routerLink"],[2,"display","flex","justify-content","center","align-items","center"],[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","Example icon button with a vertical three-dot icon",2,"margin-right","20px",3,"routerLink"],["name","home","color","primary"],[1,"button-text"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",2,"margin-right","20px",3,"routerLink"],["name","location","color","primary"],["mat-icon-button","","color","accent","aria-label","Example icon button with a menu icon",2,"margin-right","20px",3,"routerLink"],["name","person","color","primary"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",2,"margin-right","20px",3,"routerLink"],["name","car-sport","color","primary"],["mat-icon-button","","aria-label","Example icon button with an open in new tab icon",2,"margin-right","10px",3,"routerLink"],["name","exit","color","primary"]],template:function(i,c){1&i&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),o._uU(3,"ViaGo"),o.qZA()()(),o.TgZ(4,"ion-content")(5,"ion-card",2)(6,"h2",3),o._uU(7,"Historial de Viajes Aceptados"),o.qZA()(),o.TgZ(8,"ion-list"),o.YNc(9,l,4,1,"ion-item",4),o.qZA(),o.TgZ(10,"ion-button",5),o._uU(11,"Ir a Viajes Aceptados"),o.qZA()(),o.TgZ(12,"section",6)(13,"div",7)(14,"div",8)(15,"button",9),o._UZ(16,"ion-icon",10),o.TgZ(17,"span",11),o._uU(18,"Inicio"),o.qZA()(),o.TgZ(19,"button",12),o._UZ(20,"ion-icon",13),o.TgZ(21,"span",11),o._uU(22,"Viaje"),o.qZA()(),o.TgZ(23,"button",14),o._UZ(24,"ion-icon",15),o.TgZ(25,"span",11),o._uU(26,"Perfil"),o.qZA()(),o.TgZ(27,"button",16),o._UZ(28,"ion-icon",17),o.TgZ(29,"span",11),o._uU(30,"Auto"),o.qZA()(),o.TgZ(31,"button",18),o._UZ(32,"ion-icon",19),o.TgZ(33,"span",11),o._uU(34,"Cierre"),o.qZA()()()()()),2&i&&(o.Q6J("translucent",!0),o.xp6(9),o.Q6J("ngForOf",c.arregloViajes),o.xp6(1),o.Q6J("routerLink",o.DdM(8,b)),o.xp6(5),o.Q6J("routerLink",o.DdM(9,A)),o.xp6(4),o.Q6J("routerLink",o.DdM(10,j)),o.xp6(4),o.Q6J("routerLink",o.DdM(11,T)),o.xp6(4),o.Q6J("routerLink",o.DdM(12,y)),o.xp6(4),o.Q6J("routerLink",o.DdM(13,P)))},dependencies:[h.sg,e.YG,e.PM,e.FN,e.W2,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.wd,e.sr,e.YI,s.rH,u.RK],styles:['@charset "UTF-8";#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}.button-text[_ngcontent-%COMP%]{font-size:8px;margin-top:1px;display:block;text-align:center;color:#469597}']}),n})()}];let V=(()=>{var t;class n{}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[s.Bz.forChild(M),s.Bz]}),n})();var H=r(617),w=r(6385);let C=(()=>{var t;class n{}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[h.ez,x.u5,e.Pc,V,H.Ps,w.t,u.ot]}),n})()},7791:(U,Z,r)=>{function h(e,s,f,o,m,u,d){try{var g=e[u](d),l=g.value}catch(b){return void f(b)}g.done?s(l):Promise.resolve(l).then(o,m)}function x(e){return function(){var s=this,f=arguments;return new Promise(function(o,m){var u=e.apply(s,f);function d(l){h(u,o,m,d,g,"next",l)}function g(l){h(u,o,m,d,g,"throw",l)}d(void 0)})}}r.d(Z,{Z:()=>x})}}]);