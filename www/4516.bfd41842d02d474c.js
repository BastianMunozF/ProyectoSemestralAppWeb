"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4516],{4516:(L,d,l)=>{l.r(d),l.d(d,{HistorialconductorPageModule:()=>D});var g=l(6814),_=l(6223),e=l(9843),u=l(2058),b=l(5861),i=l(5879),Z=l(4535),m=l(2296);function f(o,r){if(1&o&&(i.TgZ(0,"ion-item-sliding")(1,"ion-card")(2,"ion-card-content")(3,"ion-item")(4,"ion-label")(5,"strong"),i._uU(6,"Pasajero del Viaje:"),i.qZA(),i._uU(7),i.qZA()(),i.TgZ(8,"ion-item")(9,"ion-label"),i._uU(10),i.qZA()(),i.TgZ(11,"ion-item")(12,"ion-label"),i._uU(13),i.qZA()(),i.TgZ(14,"ion-item")(15,"ion-label")(16,"strong"),i._uU(17,"Viaje:"),i.qZA()()(),i.TgZ(18,"ion-item")(19,"ion-label"),i._uU(20),i.qZA()(),i.TgZ(21,"ion-item")(22,"ion-label"),i._uU(23),i.qZA()(),i.TgZ(24,"ion-item")(25,"ion-label"),i._uU(26),i.qZA()(),i.TgZ(27,"ion-item")(28,"ion-label"),i._uU(29),i.qZA()(),i.TgZ(30,"ion-item")(31,"ion-label"),i._uU(32),i.qZA()(),i.TgZ(33,"ion-item")(34,"ion-label"),i._uU(35),i.qZA()(),i._UZ(36,"br"),i.TgZ(37,"ion-item")(38,"ion-label")(39,"strong"),i._uU(40,"Veh\xedculo:"),i.qZA()()(),i.TgZ(41,"ion-item")(42,"ion-label"),i._uU(43),i.qZA()(),i.TgZ(44,"ion-item")(45,"ion-label"),i._uU(46),i.qZA()(),i.TgZ(47,"ion-item")(48,"ion-label"),i._uU(49),i.qZA()()()()()),2&o){const n=r.$implicit,t=i.oxw().$implicit,a=i.oxw().$implicit;i.xp6(7),i.AsE(" ",t.nombre," ",t.apellido," "),i.xp6(3),i.hij("Celular: ",t.celular,""),i.xp6(3),i.hij("Correo: ",t.correo,""),i.xp6(7),i.hij("Fecha del Viaje: ",a.f_viaje,""),i.xp6(3),i.hij("Hora de Salida: ",a.hora_salida,""),i.xp6(3),i.hij("Salida: ",a.salida,""),i.xp6(3),i.hij("Destino: ",a.destino,""),i.xp6(3),i.hij("Asientos disponibles: ",a.cant_asientos,""),i.xp6(3),i.hij("Estado: ",a.estado,""),i.xp6(8),i.hij("Marca: ",n.marca,""),i.xp6(3),i.hij("Modelo: ",n.modelo,""),i.xp6(3),i.hij("Patente: ",n.patente,"")}}function x(o,r){if(1&o&&(i.TgZ(0,"ion-item-sliding"),i.YNc(1,f,50,13,"ion-item-sliding",3),i.qZA()),2&o){const n=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",n.arregloVehiculo)}}function T(o,r){if(1&o&&(i.TgZ(0,"ion-item-sliding"),i.YNc(1,x,2,1,"ion-item-sliding",3),i.qZA()),2&o){const n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",n.arregloUsuario)}}function U(o,r){if(1&o&&(i.TgZ(0,"ion-item-sliding"),i.YNc(1,T,2,1,"ion-item-sliding",3),i.qZA()),2&o){const n=i.oxw();i.xp6(1),i.Q6J("ngForOf",n.arregloViajes)}}const A=function(){return["/viajesiniciados"]},j=function(){return["/menuprincipalconductor"]},v=function(){return["/rutaconductor"]},P=function(){return["/perfilconductor"]},y=function(){return["/registrarvehiculo"]},M=function(){return["/paginalogin-usuario"]},V=[{path:"",component:(()=>{var o;class r{constructor(t,a){this.database=t,this.alertController=a,this.id_conductor=localStorage.getItem("id"),this.arregloDetalle=[{id_detalle:"",id_usuario:"",id_viaje:""}],this.arregloUsuario=[{id_usuario:"",nombre:"",apellido:"",correo:"",fechanacimiento:"",rut:"",celular:"",contrasena:"",fotoperfil:""}],this.arregloVehiculo=[{id_vehiculo:"",marca:"",modelo:"",anio:"",patente:"",asientos:"",id_usuario:"",id_tipo:""}],this.arregloViajes=[{id_viaje:"",f_viaje:"",hora_salida:"",salida:"",destino:"",cant_asientos:"",valor_asiento:"",estado:"",id_usuario:""}]}ngOnInit(){let t=localStorage.getItem("id");this.database.buscarViajeIniciado(t,"Finalizado.").then(c=>{c.length>0?this.database.fetchViajeAceptado().subscribe(s=>{s.length>0&&(console.log("Viajes del usuario: ",s),this.arregloViajes=s,this.database.buscarDetalleViaje(s[0].id_viaje).then(F=>{F.length>0&&this.database.fetchDetalleViaje().subscribe(p=>{this.arregloDetalle=p,this.database.buscarDatosUsuario(p[0].id_usuario).then(J=>{J.length>0&&this.database.fetchUsuarioId().subscribe(h=>{h.length>0&&(this.arregloUsuario=h)})})})}))}):this.presentarAlerta("Error al cargar viajes","Usted a\xfan no ha concretado ning\xfan viaje.")}),this.database.buscarVehiculoUsuario(t),this.database.fetchVehiculoUser().subscribe(c=>{this.arregloVehiculo=c})}presentarAlerta(t,a){var c=this;return(0,b.Z)(function*(){yield(yield c.alertController.create({header:t,message:a,buttons:["Aceptar"]})).present()})()}}return(o=r).\u0275fac=function(t){return new(t||o)(i.Y36(Z.N),i.Y36(e.Br))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-historialconductor"]],decls:34,vars:14,consts:[[3,"translucent"],["color","primary",2,"text-align","center"],["color","primary",1,"ion-text-center"],[4,"ngFor","ngForOf"],[3,"routerLink"],[2,"display","flex","justify-content","center","align-items","center"],[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","Example icon button with a vertical three-dot icon",2,"margin-right","20px",3,"routerLink"],["name","home","color","primary"],[1,"button-text"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",2,"margin-right","20px",3,"routerLink"],["name","location","color","primary"],["mat-icon-button","","color","accent","aria-label","Example icon button with a menu icon",2,"margin-right","20px",3,"routerLink"],["name","person","color","primary"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",2,"margin-right","20px",3,"routerLink"],["name","car-sport","color","primary"],["mat-icon-button","","aria-label","Example icon button with an open in new tab icon",2,"margin-right","10px",3,"routerLink"],["name","exit","color","primary"]],template:function(t,a){1&t&&(i.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),i._uU(3,"ViaGo"),i.qZA()()(),i.TgZ(4,"ion-content")(5,"h2",2),i._uU(6,"Historial de Viajes Realizados"),i.qZA(),i.TgZ(7,"ion-list"),i.YNc(8,U,2,1,"ion-item-sliding",3),i.qZA(),i.TgZ(9,"ion-button",4),i._uU(10,"Ir a Viajes Aceptados"),i.qZA()(),i.TgZ(11,"section",5)(12,"div",6)(13,"div",7)(14,"button",8),i._UZ(15,"ion-icon",9),i.TgZ(16,"span",10),i._uU(17,"Inicio"),i.qZA()(),i.TgZ(18,"button",11),i._UZ(19,"ion-icon",12),i.TgZ(20,"span",10),i._uU(21,"Viaje"),i.qZA()(),i.TgZ(22,"button",13),i._UZ(23,"ion-icon",14),i.TgZ(24,"span",10),i._uU(25,"Perfil"),i.qZA()(),i.TgZ(26,"button",15),i._UZ(27,"ion-icon",16),i.TgZ(28,"span",10),i._uU(29,"Auto"),i.qZA()(),i.TgZ(30,"button",17),i._UZ(31,"ion-icon",18),i.TgZ(32,"span",10),i._uU(33,"Cierre"),i.qZA()()()()()),2&t&&(i.Q6J("translucent",!0),i.xp6(8),i.Q6J("ngForOf",a.arregloDetalle),i.xp6(1),i.Q6J("routerLink",i.DdM(8,A)),i.xp6(5),i.Q6J("routerLink",i.DdM(9,j)),i.xp6(4),i.Q6J("routerLink",i.DdM(10,v)),i.xp6(4),i.Q6J("routerLink",i.DdM(11,P)),i.xp6(4),i.Q6J("routerLink",i.DdM(12,y)),i.xp6(4),i.Q6J("routerLink",i.DdM(13,M)))},dependencies:[g.sg,e.YG,e.PM,e.FN,e.W2,e.Gu,e.gu,e.Ie,e.td,e.Q$,e.q_,e.wd,e.sr,e.YI,u.rH,m.RK],styles:['@charset "UTF-8";#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}.button-text[_ngcontent-%COMP%]{font-size:8px;margin-top:1px;display:block;text-align:center;color:#469597}']}),r})()}];let H=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[u.Bz.forChild(V),u.Bz]}),r})();var q=l(617),C=l(6385);let D=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[g.ez,_.u5,e.Pc,H,q.Ps,C.t,m.ot]}),r})()}}]);