"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1163],{1163:(Z,f,t)=>{t.r(f),t.d(f,{ModificarcontrasenaPageModule:()=>M});var g=t(6814),r=t(6223),o=t(9843),d=t(2058),m=t(5861),a=t(5879),p=t(4535);const h=function(){return["/paginalogin-usuario"]},C=[{path:"",component:(()=>{var n;class s{constructor(e,i,c,u){this.database=e,this.alertController=i,this.fb=c,this.router=u,this.formularioContrasena=this.fb.group({actual:new r.NI("",[r.kI.required]),nueva:new r.NI("",[r.kI.required]),confnueva:new r.NI("",[r.kI.required])})}cambiarContrsena(){if(this.formularioContrasena.valid){let e=this.formularioContrasena.value,i=localStorage.getItem("id");e.nueva===e.confnueva?this.database.verificarContrasena(i).then(c=>{c?this.database.actualizarContrasena(e.nueva,i).then(u=>{u?(this.presentarAlerta("Contrase\xf1a Actualizada","Su contrase\xf1a ha sido actualizada con \xe9xito. Inicie nuevamente."),this.router.navigate(["/paginalogin-usuario"]),this.formularioContrasena.reset()):this.presentarAlerta("Error al actualizar contrase\xf1a","La contrase\xf1a actual ingresada no existe.")}).catch(u=>{console.error("Ha ocurrido un error al actualizar contrase\xf1a: ",+u)}):this.presentarAlerta("Contrase\xf1a incorrecta","La contrase\xf1a actual ingresada no coincide.")}).catch(c=>{console.error("Ha ocurrido un error al verificar contrasena: ",+c)}):this.presentarAlerta("Contrase\xf1as incorrectas","Las contrase\xf1as ingresadas no coinciden.")}}presentarAlerta(e,i){var c=this;return(0,m.Z)(function*(){yield(yield c.alertController.create({header:e,message:i,buttons:["Aceptar"]})).present()})()}ngOnInit(){}}return(n=s).\u0275fac=function(e){return new(e||n)(a.Y36(p.N),a.Y36(o.Br),a.Y36(r.qu),a.Y36(d.F0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-modificarcontrasena"]],decls:31,vars:3,consts:[["color","primary"],["slot","start"],[2,"text-align","center"],["collapse","condense"],["size","large",2,"text-align","center","font-weight","800"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","actual","id","actual","type","password"],["formControlName","nueva","type","password"],["formControlName","confnueva","type","password"],["type","submit",3,"routerLink"]],template:function(e,i){1&e&&(a.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),a._UZ(3,"ion-back-button"),a.qZA(),a.TgZ(4,"ion-title",2),a._uU(5,"ViaGo"),a.qZA()()(),a.TgZ(6,"ion-content")(7,"ion-header",3)(8,"ion-toolbar",0)(9,"ion-title",4),a._uU(10,"Modificar Contrase\xf1a"),a.qZA()()(),a.TgZ(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),a._uU(14,"Cambiar Contrase\xf1a"),a.qZA()(),a.TgZ(15,"ion-card-content")(16,"form",5),a.NdJ("ngSubmit",function(){return i.cambiarContrsena()}),a.TgZ(17,"ion-item")(18,"ion-label",6),a._uU(19,"Ingrese su Contrase\xf1a Actual:"),a.qZA(),a._UZ(20,"ion-input",7),a.qZA(),a.TgZ(21,"ion-item")(22,"ion-label",6),a._uU(23,"Ingrese su Nueva Contrase\xf1a:"),a.qZA(),a._UZ(24,"ion-input",8),a.qZA(),a.TgZ(25,"ion-item")(26,"ion-label",6),a._uU(27,"Confirme Nueva Contrase\xf1a:"),a.qZA(),a._UZ(28,"ion-input",9),a.qZA(),a.TgZ(29,"ion-button",10),a._uU(30,"Cambiar Contrase\xf1a"),a.qZA()()()()()),2&e&&(a.xp6(16),a.Q6J("formGroup",i.formularioContrasena),a.xp6(13),a.Q6J("routerLink",a.DdM(2,h)))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.pK,o.Ie,o.Q$,o.wd,o.sr,o.j9,o.cs,o.YI,d.rH],styles:["#container[_ngcontent-%COMP%]{color:#000;width:95%;border-bottom:5%;border:solid 1.5px #469597}#us[_ngcontent-%COMP%]{margin-left:3%;font-family:calibri;font-size:xx-large}#letra[_ngcontent-%COMP%]{font-family:arial;font-size:medium;font-weight:500}.color[_ngcontent-%COMP%]{color:var(--ion-color-new-shade)}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1ec;--ion-border-color:primary}"]}),s})()}];let v=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[d.Bz.forChild(C),d.Bz]}),s})(),M=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[g.ez,r.u5,r.UX,o.Pc,v]}),s})()}}]);